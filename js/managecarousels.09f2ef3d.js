(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["managecarousels"],{2532:function(t,e,r){"use strict";var i=r("23e7"),n=r("5a34"),a=r("1d80"),c=r("ab13");i({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(a(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"39e3":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"managecarousels"}},[r("b-container",[r("b-breadcrumb",[r("b-breadcrumb-item",{attrs:{to:"/administrator"}},[t._v(" 管理員 ")]),r("b-breadcrumb-item",{attrs:{active:""}},[t._v("管理輪播圖")])],1)],1),r("h1",{staticClass:"text-center"},[t._v("管理輪播圖")]),r("b-container",{staticClass:"text-center"},[r("b-form",{on:{submit:t.submit}},[r("b-form-file",{attrs:{state:t.state,placeholder:"選擇檔案或拖曳至此","drop-placeholder":"將檔案拖曳至此",required:"","browse-text":"瀏覽",accept:"image/*"},on:{input:t.File},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),r("b-button",{attrs:{type:"submit",variant:"primary",id:"button"}},[t._v("上傳")])],1)],1),r("b-container",[r("b-row",t._l(t.carousels,(function(e,i){return r("b-col",{key:i,staticClass:"text-center",attrs:{cols:"12",md:"6",lg:"3"}},[r("b-img",{attrs:{id:"mcimg",src:e.src,thumbnail:"",fluid:""}}),r("b-button",{attrs:{variant:"danger",id:"button"},on:{click:function(r){return t.del(e,i)}}},[t._v("刪除")])],1)})),1)],1)],1)},n=[],a=(r("caad"),r("d81d"),r("a434"),r("2532"),{data:function(){return{file:null,state:!1,carousels:[]}},methods:{File:function(){null!=this.file&&(this.file.size>=1048576||!this.file.type.includes("image")?(this.state=!1,this.file=null):this.state=!0)},submit:function(t){var e=this;if(t.preventDefault(),null===this.file||this.file.size>=1048576||!this.file.type.includes("image"))alert("檔案格式不符");else{var r=new FormData;r.append("image",this.file),this.axios.post("computer-pairing.onrender.com/carousel",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.carousels.push({src:"computer-pairing.onrender.com/carousel/"+t.data.image,_id:t.data._id}),e.file=null})).catch((function(t){alert(t.response.data.message)}))}},del:function(t,e){var r=this;this.axios.delete("computer-pairing.onrender.com/carousel/"+t._id).then((function(t){r.carousels.splice(e,1)})).catch((function(){alert("發生錯誤")}))}},mounted:function(){var t=this;this.axios.get("computer-pairing.onrender.com/carousel").then((function(e){t.carousels=e.data.result.map((function(t){return{_id:t._id,src:"computer-pairing.onrender.com/carousel/"+t.image}}))})).catch((function(){alert("發生錯誤")}))}}),c=a,o=r("2877"),s=Object(o["a"])(c,i,n,!1,null,null,null);e["default"]=s.exports},"44e7":function(t,e,r){var i=r("861d"),n=r("c6b6"),a=r("b622"),c=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==n(t))}},"5a34":function(t,e,r){var i=r("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,e,r){"use strict";var i=r("c04e"),n=r("9bf2"),a=r("5c6c");t.exports=function(t,e,r){var c=i(e);c in t?n.f(t,c,a(0,r)):t[c]=r}},a434:function(t,e,r){"use strict";var i=r("23e7"),n=r("23cb"),a=r("a691"),c=r("50c4"),o=r("7b0b"),s=r("65f0"),u=r("8418"),l=r("1dde"),d=r("ae40"),f=l("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var r,i,l,d,f,m,v=o(this),x=c(v.length),_=n(t,x),w=arguments.length;if(0===w?r=i=0:1===w?(r=0,i=x-_):(r=w-2,i=p(h(a(e),0),x-_)),x+r-i>b)throw TypeError(g);for(l=s(v,i),d=0;d<i;d++)f=_+d,f in v&&u(l,d,v[f]);if(l.length=i,r<i){for(d=_;d<x-i;d++)f=d+i,m=d+r,f in v?v[m]=v[f]:delete v[m];for(d=x;d>x-i+r;d--)delete v[d-1]}else if(r>i)for(d=x-i;d>_;d--)f=d+i-1,m=d+r-1,f in v?v[m]=v[f]:delete v[m];for(d=0;d<r;d++)v[d+_]=arguments[d+2];return v.length=x-i+r,l}})},ab13:function(t,e,r){var i=r("b622"),n=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},caad:function(t,e,r){"use strict";var i=r("23e7"),n=r("4d64").includes,a=r("44d2"),c=r("ae40"),o=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!o},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")}}]);
//# sourceMappingURL=managecarousels.09f2ef3d.js.map