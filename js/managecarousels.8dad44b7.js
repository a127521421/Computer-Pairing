(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["managecarousels"],{2532:function(t,e,i){"use strict";var r=i("23e7"),n=i("5a34"),a=i("1d80"),c=i("ab13");r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(a(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"39e3":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"managecarousels"}},[i("b-container",[i("b-breadcrumb",[i("b-breadcrumb-item",{attrs:{to:"/administrator"}},[t._v(" 管理員 ")]),i("b-breadcrumb-item",{attrs:{active:""}},[t._v("管理輪播圖")])],1)],1),i("h1",{staticClass:"text-center"},[t._v("管理輪播圖")]),i("b-container",{staticClass:"text-center"},[i("b-form",{on:{submit:t.submit}},[i("b-form-file",{attrs:{state:t.state,placeholder:"選擇檔案或拖曳至此","drop-placeholder":"將檔案拖曳至此",required:"","browse-text":"瀏覽",accept:"image/*"},on:{input:t.File},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),i("b-button",{attrs:{type:"submit",variant:"primary",id:"button"}},[t._v("上傳")])],1)],1),i("b-container",[i("b-row",t._l(t.carousels,(function(e,r){return i("b-col",{key:r,staticClass:"text-center",attrs:{cols:"12",md:"6",lg:"3"}},[i("b-img",{attrs:{id:"mcimg",src:e.src,thumbnail:"",fluid:""}}),i("b-button",{attrs:{variant:"danger",id:"button"},on:{click:function(i){return t.del(e,r)}}},[t._v("刪除")])],1)})),1)],1)],1)},n=[],a=(i("caad"),i("d81d"),i("a434"),i("2532"),{data:function(){return{file:null,state:!1,carousels:[]}},methods:{File:function(){null!=this.file&&(this.file.size>=1048576||!this.file.type.includes("image")?(this.state=!1,this.file=null):this.state=!0)},submit:function(t){var e=this;if(t.preventDefault(),null===this.file||this.file.size>=1048576||!this.file.type.includes("image"))alert("檔案格式不符");else{var i=new FormData;i.append("image",this.file),this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/carousel",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.carousels.push({src:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/carousel/"+t.data.image,_id:t.data._id}),e.file=null})).catch((function(t){alert(t.response.data.message)}))}},del:function(t,e){var i=this;this.axios.delete(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/carousel/"+t._id).then((function(t){i.carousels.splice(e,1)})).catch((function(){alert("發生錯誤")}))}},mounted:function(){var t=this;this.axios.get(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/carousel").then((function(e){t.carousels=e.data.result.map((function(t){return{_id:t._id,src:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/carousel/"+t.image}}))})).catch((function(){alert("發生錯誤")}))}}),c=a,s=i("2877"),o=Object(s["a"])(c,r,n,!1,null,null,null);e["default"]=o.exports},"44e7":function(t,e,i){var r=i("861d"),n=i("c6b6"),a=i("b622"),c=a("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==n(t))}},"5a34":function(t,e,i){var r=i("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,e,i){"use strict";var r=i("c04e"),n=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var c=r(e);c in t?n.f(t,c,a(0,i)):t[c]=i}},a434:function(t,e,i){"use strict";var r=i("23e7"),n=i("23cb"),a=i("a691"),c=i("50c4"),s=i("7b0b"),o=i("65f0"),u=i("8418"),l=i("1dde"),d=i("ae40"),f=l("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,p=Math.min,m=9007199254740991,_="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var i,r,l,d,f,h,v=s(this),g=c(v.length),E=n(t,g),x=arguments.length;if(0===x?i=r=0:1===x?(i=0,r=g-E):(i=x-2,r=p(b(a(e),0),g-E)),g+i-r>m)throw TypeError(_);for(l=o(v,r),d=0;d<r;d++)f=E+d,f in v&&u(l,d,v[f]);if(l.length=r,i<r){for(d=E;d<g-r;d++)f=d+r,h=d+i,f in v?v[h]=v[f]:delete v[h];for(d=g;d>g-r+i;d--)delete v[d-1]}else if(i>r)for(d=g-r;d>E;d--)f=d+r-1,h=d+i-1,f in v?v[h]=v[f]:delete v[h];for(d=0;d<i;d++)v[d+E]=arguments[d+2];return v.length=g-r+i,l}})},ab13:function(t,e,i){var r=i("b622"),n=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(r){}}return!1}},caad:function(t,e,i){"use strict";var r=i("23e7"),n=i("4d64").includes,a=i("44d2"),c=i("ae40"),s=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")}}]);
//# sourceMappingURL=managecarousels.8dad44b7.js.map